{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ListCollectionsCursor = void 0;\n\nconst execute_operation_1 = require(\"../operations/execute_operation\");\n\nconst list_collections_1 = require(\"../operations/list_collections\");\n\nconst abstract_cursor_1 = require(\"./abstract_cursor\");\n/** @public */\n\n\nclass ListCollectionsCursor extends abstract_cursor_1.AbstractCursor {\n  constructor(db, filter, options) {\n    super(db.s.client, db.s.namespace, options);\n    this.parent = db;\n    this.filter = filter;\n    this.options = options;\n  }\n\n  clone() {\n    return new ListCollectionsCursor(this.parent, this.filter, { ...this.options,\n      ...this.cursorOptions\n    });\n  }\n  /** @internal */\n\n\n  _initialize(session, callback) {\n    const operation = new list_collections_1.ListCollectionsOperation(this.parent, this.filter, { ...this.cursorOptions,\n      ...this.options,\n      session\n    });\n    (0, execute_operation_1.executeOperation)(this.parent.s.client, operation, (err, response) => {\n      if (err || response == null) return callback(err); // TODO: NODE-2882\n\n      callback(undefined, {\n        server: operation.server,\n        session,\n        response\n      });\n    });\n  }\n\n}\n\nexports.ListCollectionsCursor = ListCollectionsCursor;","map":{"version":3,"mappings":";;;;;;;AAEA;;AACA;;AAOA;AAEA;;;AACA,MAAaA,qBAAb,SAIUC,gCAJV,CAI2B;AAKzBC,cAAYC,EAAZ,EAAoBC,MAApB,EAAsCC,OAAtC,EAAsE;AACpE,UAAMF,EAAE,CAACG,CAAH,CAAKC,MAAX,EAAmBJ,EAAE,CAACG,CAAH,CAAKE,SAAxB,EAAmCH,OAAnC;AACA,SAAKI,MAAL,GAAcN,EAAd;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,OAAL,GAAeA,OAAf;AACD;;AAEDK,OAAK;AACH,WAAO,IAAIV,qBAAJ,CAA0B,KAAKS,MAA/B,EAAuC,KAAKL,MAA5C,EAAoD,EACzD,GAAG,KAAKC,OADiD;AAEzD,SAAG,KAAKM;AAFiD,KAApD,CAAP;AAID;AAED;;;AACAC,aAAW,CAACC,OAAD,EAAqCC,QAArC,EAAwE;AACjF,UAAMC,SAAS,GAAG,IAAIC,2CAAJ,CAA6B,KAAKP,MAAlC,EAA0C,KAAKL,MAA/C,EAAuD,EACvE,GAAG,KAAKO,aAD+D;AAEvE,SAAG,KAAKN,OAF+D;AAGvEQ;AAHuE,KAAvD,CAAlB;AAMA,8CAAiB,KAAKJ,MAAL,CAAYH,CAAZ,CAAcC,MAA/B,EAAuCQ,SAAvC,EAAkD,CAACE,GAAD,EAAMC,QAAN,KAAkB;AAClE,UAAID,GAAG,IAAIC,QAAQ,IAAI,IAAvB,EAA6B,OAAOJ,QAAQ,CAACG,GAAD,CAAf,CADqC,CAGlE;;AACAH,cAAQ,CAACK,SAAD,EAAY;AAAEC,cAAM,EAAEL,SAAS,CAACK,MAApB;AAA4BP,eAA5B;AAAqCK;AAArC,OAAZ,CAAR;AACD,KALD;AAMD;;AAjCwB;;AAJ3BG","names":["ListCollectionsCursor","abstract_cursor_1","constructor","db","filter","options","s","client","namespace","parent","clone","cursorOptions","_initialize","session","callback","operation","list_collections_1","err","response","undefined","server","exports"],"sources":["C:\\Users\\AnÄ‘elo\\node_modules\\mongodb\\src\\cursor\\list_collections_cursor.ts"],"sourcesContent":["import type { Document } from '../bson';\nimport type { Db } from '../db';\nimport { executeOperation, ExecutionResult } from '../operations/execute_operation';\nimport {\n  CollectionInfo,\n  ListCollectionsOperation,\n  ListCollectionsOptions\n} from '../operations/list_collections';\nimport type { ClientSession } from '../sessions';\nimport type { Callback } from '../utils';\nimport { AbstractCursor } from './abstract_cursor';\n\n/** @public */\nexport class ListCollectionsCursor<\n  T extends Pick<CollectionInfo, 'name' | 'type'> | CollectionInfo =\n    | Pick<CollectionInfo, 'name' | 'type'>\n    | CollectionInfo\n> extends AbstractCursor<T> {\n  parent: Db;\n  filter: Document;\n  options?: ListCollectionsOptions;\n\n  constructor(db: Db, filter: Document, options?: ListCollectionsOptions) {\n    super(db.s.client, db.s.namespace, options);\n    this.parent = db;\n    this.filter = filter;\n    this.options = options;\n  }\n\n  clone(): ListCollectionsCursor<T> {\n    return new ListCollectionsCursor(this.parent, this.filter, {\n      ...this.options,\n      ...this.cursorOptions\n    });\n  }\n\n  /** @internal */\n  _initialize(session: ClientSession | undefined, callback: Callback<ExecutionResult>): void {\n    const operation = new ListCollectionsOperation(this.parent, this.filter, {\n      ...this.cursorOptions,\n      ...this.options,\n      session\n    });\n\n    executeOperation(this.parent.s.client, operation, (err, response) => {\n      if (err || response == null) return callback(err);\n\n      // TODO: NODE-2882\n      callback(undefined, { server: operation.server, session, response });\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"script"}